<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Sheraton Astana (Demo)</title>
    <script src="app.js" defer></script>
    <style>
        * { box-sizing: border-box; }
        body { margin:0; font-family: Arial, sans-serif; color:#111; background:#fff; }

        /* Top dark bar */
        .topbar{
            background:#111;
            color:#fff;
            height:54px;
            display:flex;
            align-items:center;
            justify-content:space-between;
            padding:0 18px;
        }
        .top-left{ display:flex; align-items:center; gap:14px; }
        .burger{ font-size:20px; opacity:.9; }
        .brand-mini{ font-weight:700; letter-spacing:.4px; opacity:.95; }

        .top-right{ display:flex; align-items:center; gap:14px; }
        .btn{
            border:1px solid rgba(255,255,255,.4);
            background:transparent;
            color:#fff;
            border-radius:18px;
            padding:8px 14px;
            cursor:pointer;
            font-weight:600;
        }
        .btn:hover{ background: rgba(255,255,255,.1); }

        .container{ max-width:1200px; margin:0 auto; padding:18px; }

        /* Header zone */
        .hotel-head{
            display:flex;
            align-items:flex-end;
            justify-content:space-between;
            gap:18px;
            padding:18px 0;
            border-bottom:1px solid #eee;
        }
        .hotel-title h1{ margin:0; font-size:36px; font-weight:500; }
        .rating{ margin-top:6px; color:#555; display:flex; gap:10px; align-items:center; }
        .dots{ letter-spacing:3px; color:#7b61ff; font-size:18px; }
        .smalllink{ color:#111; text-decoration:underline; cursor:pointer; }

        .contacts{
            color:#333;
            display:flex;
            gap:20px;
            align-items:center;
            font-size:14px;
            white-space:nowrap;
        }

        /* Booking bar */
        .booking-bar{
            margin-top:18px;
            border-top:1px solid #eee;
            border-bottom:1px solid #eee;
            padding:16px 0;
            display:grid;
            grid-template-columns: 1fr 1fr 1fr auto;
            gap:16px;
            align-items:center;
        }
        .slot{ padding:10px 12px; border-right:1px solid #eee; }
        .slot:last-child{ border-right:none; }
        .slot .label{ color:#888; font-size:12px; text-transform:uppercase; letter-spacing:.6px; }
        .slot .value{ margin-top:6px; font-size:16px; display:flex; justify-content:space-between; align-items:center; }
        .chev{ color:#666; }

        .btn2{
            background:#6e645a;
            border:none;
            color:#fff;
            border-radius:22px;
            padding:12px 18px;
            cursor:pointer;
            font-weight:700;
            white-space:nowrap;
        }
        .btn2:hover{ filter:brightness(1.05); }

        /* Hero image */
        .hero{
            margin-top:18px;
            border-radius:10px;
            overflow:hidden;
            position:relative;
            height:420px;
            background:#ddd;
        }
        .hero img{
            width:100%;
            height:100%;
            object-fit:cover;
            display:block;
            filter: saturate(1.05);
        }
        .hero-overlay{
            position:absolute;
            left:18px;
            bottom:18px;
            background:rgba(0,0,0,.55);
            color:#fff;
            padding:12px 14px;
            border-radius:10px;
            max-width:680px;
        }
        .hero-overlay b{ font-weight:800; }

        /* Rooms section */
        .section{
            margin-top:24px;
            display:none; /* show when click View Rates / Booking */
        }
        .section h2{ margin:0 0 12px; font-size:22px; }

        .toolbar{
            display:flex;
            gap:10px;
            flex-wrap:wrap;
            align-items:center;
            margin-bottom:12px;
        }
        .input, select{
            padding:10px 12px;
            border:1px solid #ddd;
            border-radius:10px;
            min-width:220px;
        }
        .grid{
            display:grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap:14px;
        }
        .card{
            border:1px solid #eee;
            border-radius:12px;
            padding:14px;
            background:#fff;
        }
        .tag{
            display:inline-block;
            padding:6px 10px;
            border-radius:999px;
            font-size:12px;
            background:#f2f2f2;
            margin-left:8px;
        }
        .tag.ok{ background:#eaf7ef; color:#18794e; }
        .tag.no{ background:#fdecec; color:#b42318; }

        .price{ font-size:18px; font-weight:800; margin-top:8px; }
        .card button{
            margin-top:12px;
            width:100%;
            padding:10px;
            border:none;
            border-radius:10px;
            cursor:pointer;
            font-weight:800;
            background:#111;
            color:#fff;
        }
        .card button:disabled{ opacity:.45; cursor:not-allowed; }

        /* Login modal */
        .modal-bg{
            position:fixed;
            inset:0;
            display:none;
            align-items:center;
            justify-content:center;
            padding:18px;
            background:rgba(0,0,0,.55);
        }
        .modal{
            width:min(520px, 100%);
            background:#fff;
            border-radius:14px;
            padding:16px;
        }
        .modal-head{
            display:flex;
            justify-content:space-between;
            align-items:center;
            gap:10px;
        }
        .xbtn{
            border:1px solid #ddd;
            background:#fff;
            border-radius:10px;
            padding:8px 10px;
            cursor:pointer;
        }
        .hint{ color:#666; font-size:12px; margin:6px 0 0; }
        .modal .input{ width:100%; margin-top:10px; }
        .modal .submit{
            margin-top:12px;
            width:100%;
            background:#111;
            color:#fff;
            border:none;
            border-radius:10px;
            padding:12px;
            cursor:pointer;
            font-weight:800;
        }
        .msg{ margin-top:10px; font-size:12px; color:#333; }

        /* user text */
        .userline{
            margin-top:10px;
            color:#333;
            font-weight:600;
        }
    </style>
</head>
<body>

<div class="topbar">
    <div class="top-left">
        <div class="burger">‚ò∞</div>
        <div class="brand-mini">MARRIOTT BONVOY (demo)</div>
    </div>
    <div class="top-right">
        <button class="btn" onclick="openLogin()">Sign in or Join</button>
    </div>
</div>

<div class="container">

    <div class="hotel-head">
        <div class="hotel-title">
            <h1>Sheraton Astana Hotel <span class="dots">‚óè‚óè‚óè‚óè‚óè</span></h1>
            <div class="rating">
                <span><b>4.6</b></span>
                <span>‚Ä¢</span>
                <span class="smalllink">485 Reviews</span>
            </div>
            <div class="userline" id="userLine">Not signed in</div>
        </div>

        <div class="contacts">
            <div>üìç VIEW MAP</div>
            <div>üìû +7 717-2700555</div>
        </div>
    </div>

    <div class="booking-bar">
        <div class="slot">
            <div class="label">DATES (1 NIGHT)</div>
            <div class="value">
                <span id="datesValue">Fri, Feb 06 ‚Üí Sat, Feb 07</span>
                <span class="chev">‚ñæ</span>
            </div>
        </div>
        <div class="slot">
            <div class="label">ROOMS & GUESTS</div>
            <div class="value">
                <span id="guestsValue">1 Room, 1 Adult</span>
                <span class="chev">‚ñæ</span>
            </div>
        </div>
        <div class="slot">
            <div class="label">SPECIAL RATES</div>
            <div class="value">
                <span>Lowest Regular Rate</span>
                <span class="chev">‚ñæ</span>
            </div>
        </div>

        <!-- MAIN ACTION: booking -->
        <button class="btn2" onclick="openBooking()">View Rates</button>
    </div>

    <div class="hero">
        <!-- –ü–æ–∫–∞ –ø–æ —Å—Å—ã–ª–∫–µ. –ü–æ—Ç–æ–º –∑–∞–º–µ–Ω–∏–º –Ω–∞ —Ç–≤–æ–π —Ñ–∞–π–ª -->
        <img id="heroImg" src="https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?auto=format&fit=crop&w=1800&q=70" alt="Hotel">
        <div class="hero-overlay">
            <div><b>Demo UI:</b> Sign in creates Guest via <b>/api/guests</b>. View Rates loads Rooms via <b>/api/rooms</b>.</div>
        </div>
    </div>

    <!-- Rooms section -->
    <div class="section" id="roomsSection">
        <h2>Available Rooms</h2>

        <div class="toolbar">
            <button class="btn2" onclick="loadRooms()">Load rooms</button>

            <input class="input" id="q" placeholder="Search by room number or type..." oninput="renderRooms()" />

            <select id="avail" onchange="renderRooms()">
                <option value="all">All</option>
                <option value="true">Available only</option>
                <option value="false">Not available</option>
            </select>

            <select id="sort" onchange="renderRooms()">
                <option value="num">Sort: number</option>
                <option value="price">Sort: price</option>
                <option value="type">Sort: type</option>
            </select>
        </div>

        <div class="grid" id="grid"></div>
    </div>

</div>

<!-- Login modal -->
<div class="modal-bg" id="loginBg" onclick="bgClose(event,'loginBg')">
    <div class="modal">
        <div class="modal-head">
            <h3 style="margin:0;">Sign in (demo)</h3>
            <button class="xbtn" onclick="closeLogin()">Close</button>
        </div>
        <div class="hint">This creates a Guest in DB via REST: <b>POST /api/guests</b></div>

        <input class="input" id="name" placeholder="Name">
        <input class="input" id="age" type="number" placeholder="Age">
        <input class="input" id="phone" placeholder="Phone">

        <button class="submit" onclick="doLogin()">Enter</button>
        <div class="msg" id="loginMsg"></div>
    </div>
</div>

</body>
</html>
